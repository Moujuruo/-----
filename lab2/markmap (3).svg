<svg xmlns="http://www.w3.org/2000/svg" class="w-screen h-screen leading-none markmap mm-b9qziu-1" style=""><style>.markmap{font:300 16px/20px sans-serif}.markmap-link{fill:none}.markmap-node&gt;circle{cursor:pointer}.markmap-foreign{display:inline-block}.markmap-foreign a{color:#0097e6}.markmap-foreign a:hover{color:#00a8ff}.markmap-foreign code{background-color:#f0f0f0;border-radius:2px;color:#555;font-size:calc(1em - 2px);padding:.25em}.markmap-foreign pre{margin:0}.markmap-foreign pre&gt;code{display:block}.markmap-foreign del{text-decoration:line-through}.markmap-foreign em{font-style:italic}.markmap-foreign strong{font-weight:700}.markmap-foreign mark{background:#ffeaa7}</style><g transform="translate(17.76000061035154,245.4727571661614) scale(0.2801494492292899)"><path class="markmap-link" data-depth="1" data-path="1.2" d="M132,10C172,10,172,-47,212,-47" stroke="rgb(255, 127, 14)" stroke-width="2"></path><path class="markmap-link" data-depth="1" data-path="1.10" d="M132,10C172,10,172,67,212,67" stroke="rgb(255, 127, 14)" stroke-width="2"></path><path class="markmap-link" data-depth="2" data-path="1.2.3" d="M292,-47C332,-47,332,-127,372,-127" stroke="rgb(148, 103, 189)" stroke-width="1.5"></path><path class="markmap-link" data-depth="2" data-path="1.2.4" d="M292,-47C332,-47,332,-100,372,-100" stroke="rgb(140, 86, 75)" stroke-width="1.5"></path><path class="markmap-link" data-depth="2" data-path="1.2.5" d="M292,-47C332,-47,332,-73,372,-73" stroke="rgb(227, 119, 194)" stroke-width="1.5"></path><path class="markmap-link" data-depth="2" data-path="1.2.6" d="M292,-47C332,-47,332,-46,372,-46" stroke="rgb(127, 127, 127)" stroke-width="1.5"></path><path class="markmap-link" data-depth="2" data-path="1.2.7" d="M292,-47C332,-47,332,-19,372,-19" stroke="rgb(188, 189, 34)" stroke-width="1.5"></path><path class="markmap-link" data-depth="2" data-path="1.2.8" d="M292,-47C332,-47,332,8,372,8" stroke="rgb(23, 190, 207)" stroke-width="1.5"></path><path class="markmap-link" data-depth="2" data-path="1.2.9" d="M292,-47C332,-47,332,35,372,35" stroke="rgb(31, 119, 180)" stroke-width="1.5"></path><path class="markmap-link" data-depth="2" data-path="1.10.11" d="M478,67C518,67,518,66,558,66" stroke="rgb(44, 160, 44)" stroke-width="1.5"></path><path class="markmap-link" data-depth="3" data-path="1.10.11.12" d="M755,66C795,66,795,-74.937,835,-74.937" stroke="rgb(214, 39, 40)" stroke-width="1.5"></path><path class="markmap-link" data-depth="3" data-path="1.10.11.16" d="M755,66C795,66,795,34.938,835,34.938" stroke="rgb(127, 127, 127)" stroke-width="1.5"></path><path class="markmap-link" data-depth="3" data-path="1.10.11.27" d="M755,66C795,66,795,206.938,835,206.938" stroke="rgb(188, 189, 34)" stroke-width="1.5"></path><path class="markmap-link" data-depth="4" data-path="1.10.11.12.13" d="M1015,-74.937C1055,-74.937,1055,-99.937,1095,-99.937" stroke="rgb(148, 103, 189)" stroke-width="1.5"></path><path class="markmap-link" data-depth="4" data-path="1.10.11.12.14" d="M1015,-74.937C1055,-74.937,1055,-74.937,1095,-74.937" stroke="rgb(140, 86, 75)" stroke-width="1.5"></path><path class="markmap-link" data-depth="4" data-path="1.10.11.12.15" d="M1015,-74.937C1055,-74.937,1055,-47.937,1095,-47.937" stroke="rgb(227, 119, 194)" stroke-width="1.5"></path><path class="markmap-link" data-depth="4" data-path="1.10.11.16.17" d="M983,34.938C1023,34.938,1023,-17.937,1063,-17.937" stroke="rgb(188, 189, 34)" stroke-width="1.5"></path><path class="markmap-link" data-depth="4" data-path="1.10.11.16.18" d="M983,34.938C1023,34.938,1023,9.063,1063,9.063" stroke="rgb(23, 190, 207)" stroke-width="1.5"></path><path class="markmap-link" data-depth="4" data-path="1.10.11.16.24" d="M983,34.938C1023,34.938,1023,87.813,1063,87.813" stroke="rgb(140, 86, 75)" stroke-width="1.5"></path><path class="markmap-link" data-depth="4" data-path="1.10.11.27.28" d="M1018,206.938C1058,206.938,1058,156.313,1098,156.313" stroke="rgb(23, 190, 207)" stroke-width="1.5"></path><path class="markmap-link" data-depth="4" data-path="1.10.11.27.32" d="M1018,206.938C1058,206.938,1058,257.563,1098,257.563" stroke="rgb(214, 39, 40)" stroke-width="1.5"></path><path class="markmap-link" data-depth="5" data-path="1.10.11.16.18.19" d="M1289,9.063C1329,9.063,1329,-26.187,1369,-26.187" stroke="rgb(31, 119, 180)" stroke-width="1.5"></path><path class="markmap-link" data-depth="5" data-path="1.10.11.16.18.20" d="M1289,9.063C1329,9.063,1329,0.813,1369,0.813" stroke="rgb(255, 127, 14)" stroke-width="1.5"></path><path class="markmap-link" data-depth="5" data-path="1.10.11.16.18.23" d="M1289,9.063C1329,9.063,1329,44.313,1369,44.313" stroke="rgb(148, 103, 189)" stroke-width="1.5"></path><path class="markmap-link" data-depth="5" data-path="1.10.11.16.24.25" d="M1347,87.813C1387,87.813,1387,74.313,1427,74.313" stroke="rgb(227, 119, 194)" stroke-width="1.5"></path><path class="markmap-link" data-depth="5" data-path="1.10.11.16.24.26" d="M1347,87.813C1387,87.813,1387,101.313,1427,101.313" stroke="rgb(127, 127, 127)" stroke-width="1.5"></path><path class="markmap-link" data-depth="5" data-path="1.10.11.27.28.29" d="M1211,156.313C1251,156.313,1251,131.313,1291,131.313" stroke="rgb(31, 119, 180)" stroke-width="1.5"></path><path class="markmap-link" data-depth="5" data-path="1.10.11.27.28.30" d="M1211,156.313C1251,156.313,1251,156.313,1291,156.313" stroke="rgb(255, 127, 14)" stroke-width="1.5"></path><path class="markmap-link" data-depth="5" data-path="1.10.11.27.28.31" d="M1211,156.313C1251,156.313,1251,181.313,1291,181.313" stroke="rgb(44, 160, 44)" stroke-width="1.5"></path><path class="markmap-link" data-depth="5" data-path="1.10.11.27.32.33" d="M1270,257.563C1310,257.563,1310,223.813,1350,223.813" stroke="rgb(148, 103, 189)" stroke-width="1.5"></path><path class="markmap-link" data-depth="5" data-path="1.10.11.27.32.37" d="M1270,257.563C1310,257.563,1310,291.313,1350,291.313" stroke="rgb(188, 189, 34)" stroke-width="1.5"></path><path class="markmap-link" data-depth="6" data-path="1.10.11.16.18.20.21" d="M1524,0.813C1564,0.813,1564,-12.687,1604,-12.687" stroke="rgb(44, 160, 44)" stroke-width="1.5"></path><path class="markmap-link" data-depth="6" data-path="1.10.11.16.18.20.22" d="M1524,0.813C1564,0.813,1564,14.313,1604,14.313" stroke="rgb(214, 39, 40)" stroke-width="1.5"></path><path class="markmap-link" data-depth="6" data-path="1.10.11.27.32.33.34" d="M1479,223.813C1519,223.813,1519,211.313,1559,211.313" stroke="rgb(140, 86, 75)" stroke-width="1.5"></path><path class="markmap-link" data-depth="6" data-path="1.10.11.27.32.33.35" d="M1479,223.813C1519,223.813,1519,236.313,1559,236.313" stroke="rgb(227, 119, 194)" stroke-width="1.5"></path><path class="markmap-link" data-depth="6" data-path="1.10.11.27.32.37.38" d="M1463,291.313C1503,291.313,1503,266.313,1543,266.313" stroke="rgb(23, 190, 207)" stroke-width="1.5"></path><path class="markmap-link" data-depth="6" data-path="1.10.11.27.32.37.39" d="M1463,291.313C1503,291.313,1503,291.313,1543,291.313" stroke="rgb(31, 119, 180)" stroke-width="1.5"></path><path class="markmap-link" data-depth="6" data-path="1.10.11.27.32.37.40" d="M1463,291.313C1503,291.313,1503,316.313,1543,316.313" stroke="rgb(255, 127, 14)" stroke-width="1.5"></path><path class="markmap-link" data-depth="7" data-path="1.10.11.27.32.33.35.36" d="M1720,236.313C1760,236.313,1760,236.313,1800,236.313" stroke="rgb(127, 127, 127)" stroke-width="1.5"></path><path class="markmap-link" data-depth="7" data-path="1.10.11.27.32.37.40.41" d="M1784,316.313C1824,316.313,1824,316.313,1864,316.313" stroke="rgb(44, 160, 44)" stroke-width="1.5"></path><path class="markmap-link" data-depth="8" data-path="1.10.11.27.32.37.40.41.42" d="M2057,316.313C2097,316.313,2097,302.813,2137,302.813" stroke="rgb(214, 39, 40)" stroke-width="1.5"></path><path class="markmap-link" data-depth="8" data-path="1.10.11.27.32.37.40.41.43" d="M2057,316.313C2097,316.313,2097,329.813,2137,329.813" stroke="rgb(148, 103, 189)" stroke-width="1.5"></path><g data-depth="8" data-path="1.10.11.27.32.37.40.41.43" transform="translate(2137, 307.8125)" class="markmap-node"><line x1="-1" x2="274" y1="22" y2="22" stroke="rgb(148, 103, 189)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="256" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">将<code>runFlag</code>和<code>sendFlag</code>设置为<code>false</code></div></foreignObject></g><g data-depth="8" data-path="1.10.11.27.32.37.40.41.42" transform="translate(2137, 282.8125)" class="markmap-node"><line x1="-1" x2="142" y1="20" y2="20" stroke="rgb(214, 39, 40)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="124" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">发送204表示完成</div></foreignObject></g><g data-depth="7" data-path="1.10.11.27.32.37.40.41" transform="translate(1864, 296.3125)" class="markmap-node"><line x1="-1" x2="195" y1="20" y2="20" stroke="rgb(44, 160, 44)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="193" cy="20" r="6" stroke="rgb(44, 160, 44)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="177" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">如果所有数据都得到确认</div></foreignObject></g><g data-depth="7" data-path="1.10.11.27.32.33.35.36" transform="translate(1800, 216.3125)" class="markmap-node"><line x1="-1" x2="323" y1="20" y2="20" stroke="rgb(127, 127, 127)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="305" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">重新发送具有该序列的数据并重置其计时器</div></foreignObject></g><g data-depth="6" data-path="1.10.11.27.32.37.40" transform="translate(1543, 296.3125)" class="markmap-node"><line x1="-1" x2="243" y1="20" y2="20" stroke="rgb(255, 127, 14)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="241" cy="20" r="6" stroke="rgb(255, 127, 14)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="225" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">检查是否已发送并确认所有数据</div></foreignObject></g><g data-depth="6" data-path="1.10.11.27.32.37.39" transform="translate(1543, 271.3125)" class="markmap-node"><line x1="-1" x2="195" y1="20" y2="20" stroke="rgb(31, 119, 180)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="177" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">关闭已确认序列的计时器</div></foreignObject></g><g data-depth="6" data-path="1.10.11.27.32.37.38" transform="translate(1543, 246.3125)" class="markmap-node"><line x1="-1" x2="83" y1="20" y2="20" stroke="rgb(23, 190, 207)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="65" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">处理确认</div></foreignObject></g><g data-depth="6" data-path="1.10.11.27.32.33.35" transform="translate(1559, 216.3125)" class="markmap-node"><line x1="-1" x2="163" y1="20" y2="20" stroke="rgb(227, 119, 194)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="161" cy="20" r="6" stroke="rgb(227, 119, 194)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="145" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">如果检测到序列超时</div></foreignObject></g><g data-depth="6" data-path="1.10.11.27.32.33.34" transform="translate(1559, 191.3125)" class="markmap-node"><line x1="-1" x2="115" y1="20" y2="20" stroke="rgb(140, 86, 75)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="97" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">检查超时状态</div></foreignObject></g><g data-depth="6" data-path="1.10.11.16.18.20.22" transform="translate(1604, -7.6875)" class="markmap-node"><line x1="-1" x2="190" y1="22" y2="22" stroke="rgb(214, 39, 40)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="172" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">将<code>runFlag</code>设置为<code>false</code></div></foreignObject></g><g data-depth="6" data-path="1.10.11.16.18.20.21" transform="translate(1604, -34.6875)" class="markmap-node"><line x1="-1" x2="146" y1="22" y2="22" stroke="rgb(44, 160, 44)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="128" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">输出：<code>"超时错误"</code></div></foreignObject></g><g data-depth="5" data-path="1.10.11.27.32.37" transform="translate(1350, 271.3125)" class="markmap-node"><line x1="-1" x2="115" y1="20" y2="20" stroke="rgb(188, 189, 34)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="113" cy="20" r="6" stroke="rgb(188, 189, 34)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="97" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">如果收到确认</div></foreignObject></g><g data-depth="5" data-path="1.10.11.27.32.33" transform="translate(1350, 203.8125)" class="markmap-node"><line x1="-1" x2="131" y1="20" y2="20" stroke="rgb(148, 103, 189)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="129" cy="20" r="6" stroke="rgb(148, 103, 189)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="113" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">如果未收到确认</div></foreignObject></g><g data-depth="5" data-path="1.10.11.27.28.31" transform="translate(1291, 161.3125)" class="markmap-node"><line x1="-1" x2="222" y1="20" y2="20" stroke="rgb(44, 160, 44)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="204" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">修改序列变量并等待500毫秒</div></foreignObject></g><g data-depth="5" data-path="1.10.11.27.28.30" transform="translate(1291, 136.3125)" class="markmap-node"><line x1="-1" x2="179" y1="20" y2="20" stroke="rgb(255, 127, 14)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="161" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">缓存数据并启动计时器</div></foreignObject></g><g data-depth="5" data-path="1.10.11.27.28.29" transform="translate(1291, 111.3125)" class="markmap-node"><line x1="-1" x2="179" y1="20" y2="20" stroke="rgb(31, 119, 180)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="161" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">使用当前序列发送数据</div></foreignObject></g><g data-depth="5" data-path="1.10.11.16.24.26" transform="translate(1427, 79.3125)" class="markmap-node"><line x1="-1" x2="320" y1="22" y2="22" stroke="rgb(127, 127, 127)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="302" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">设置<code>curSeq</code>、<code>curAck</code>、<code>totalSeq</code>和<code>stage</code></div></foreignObject></g><g data-depth="5" data-path="1.10.11.16.24.25" transform="translate(1427, 54.3125)" class="markmap-node"><line x1="-1" x2="147" y1="20" y2="20" stroke="rgb(227, 119, 194)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="129" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">输出文件传输详情</div></foreignObject></g><g data-depth="5" data-path="1.10.11.16.18.23" transform="translate(1369, 24.3125)" class="markmap-node"><line x1="-1" x2="206" y1="20" y2="20" stroke="rgb(148, 103, 189)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="188" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">否则，等待500毫秒并继续</div></foreignObject></g><g data-depth="5" data-path="1.10.11.16.18.20" transform="translate(1369, -21.1875)" class="markmap-node"><line x1="-1" x2="157" y1="22" y2="22" stroke="rgb(255, 127, 14)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="155" cy="22" r="6" stroke="rgb(255, 127, 14)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="139" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">如果<code>waitCount</code> &gt; 6</div></foreignObject></g><g data-depth="5" data-path="1.10.11.16.18.19" transform="translate(1369, -48.1875)" class="markmap-node"><line x1="-1" x2="118" y1="22" y2="22" stroke="rgb(31, 119, 180)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="100" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml"><code>waitCount</code>加1</div></foreignObject></g><g data-depth="4" data-path="1.10.11.27.32" transform="translate(1098, 237.5625)" class="markmap-node"><line x1="-1" x2="174" y1="20" y2="20" stroke="rgb(214, 39, 40)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="172" cy="20" r="6" stroke="rgb(214, 39, 40)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="156" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">尝试接收确认（Ack）</div></foreignObject></g><g data-depth="4" data-path="1.10.11.27.28" transform="translate(1098, 136.3125)" class="markmap-node"><line x1="-1" x2="115" y1="20" y2="20" stroke="rgb(23, 190, 207)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="113" cy="20" r="6" stroke="rgb(23, 190, 207)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="97" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">如果序列可用</div></foreignObject></g><g data-depth="4" data-path="1.10.11.16.24" transform="translate(1063, 67.8125)" class="markmap-node"><line x1="-1" x2="286" y1="20" y2="20" stroke="rgb(140, 86, 75)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="284" cy="20" r="6" stroke="rgb(140, 86, 75)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="268" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">如果接收到的数据的第一个字节为200</div></foreignObject></g><g data-depth="4" data-path="1.10.11.16.18" transform="translate(1063, -12.9375)" class="markmap-node"><line x1="-1" x2="228" y1="22" y2="22" stroke="rgb(23, 190, 207)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="226" cy="22" r="6" stroke="rgb(23, 190, 207)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="210" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">如果接收失败 (<code>recvSize</code> &lt; 0)</div></foreignObject></g><g data-depth="4" data-path="1.10.11.16.17" transform="translate(1063, -37.9375)" class="markmap-node"><line x1="-1" x2="115" y1="20" y2="20" stroke="rgb(188, 189, 34)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="97" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">尝试接收数据</div></foreignObject></g><g data-depth="4" data-path="1.10.11.12.15" transform="translate(1095, -69.9375)" class="markmap-node"><line x1="-1" x2="135" y1="22" y2="22" stroke="rgb(227, 119, 194)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="117" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">将<code>stage</code>设置为1</div></foreignObject></g><g data-depth="4" data-path="1.10.11.12.14" transform="translate(1095, -94.9375)" class="markmap-node"><line x1="-1" x2="107" y1="20" y2="20" stroke="rgb(140, 86, 75)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="89" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">等待100毫秒</div></foreignObject></g><g data-depth="4" data-path="1.10.11.12.13" transform="translate(1095, -121.9375)" class="markmap-node"><line x1="-1" x2="218" y1="22" y2="22" stroke="rgb(148, 103, 189)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="200" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">设置<code>buffer[0]</code>为205并发送</div></foreignObject></g><g data-depth="3" data-path="1.10.11.27" transform="translate(835, 186.9375)" class="markmap-node"><line x1="-1" x2="185" y1="20" y2="20" stroke="rgb(188, 189, 34)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="183" cy="20" r="6" stroke="rgb(188, 189, 34)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="167" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Case 2 (数据传输阶段)</strong></div></foreignObject></g><g data-depth="3" data-path="1.10.11.16" transform="translate(835, 14.9375)" class="markmap-node"><line x1="-1" x2="150" y1="20" y2="20" stroke="rgb(127, 127, 127)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="148" cy="20" r="6" stroke="rgb(127, 127, 127)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="132" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Case 1 (等待200)</strong></div></foreignObject></g><g data-depth="3" data-path="1.10.11.12" transform="translate(835, -94.9375)" class="markmap-node"><line x1="-1" x2="182" y1="20" y2="20" stroke="rgb(214, 39, 40)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="180" cy="20" r="6" stroke="rgb(214, 39, 40)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="164" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Case 0 (发送205阶段)</strong></div></foreignObject></g><g data-depth="2" data-path="1.10.11" transform="translate(558, 46)" class="markmap-node"><line x1="-1" x2="199" y1="20" y2="20" stroke="rgb(44, 160, 44)" stroke-width="1.5"></line><circle stroke-width="1.5" cx="197" cy="20" r="6" stroke="rgb(44, 160, 44)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="181" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">1. <strong>基于阶段进行分支处理:</strong></div></foreignObject></g><g data-depth="2" data-path="1.2.9" transform="translate(372, 13)" class="markmap-node"><line x1="-1" x2="182" y1="22" y2="22" stroke="rgb(31, 119, 180)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="164" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">将<code>runFlag</code>设置为<code>true</code></div></foreignObject></g><g data-depth="2" data-path="1.2.8" transform="translate(372, -14)" class="markmap-node"><line x1="-1" x2="146" y1="22" y2="22" stroke="rgb(23, 190, 207)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="128" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">输出：<code>"握手阶段"</code></div></foreignObject></g><g data-depth="2" data-path="1.2.7" transform="translate(372, -41)" class="markmap-node"><line x1="-1" x2="301" y1="22" y2="22" stroke="rgb(188, 189, 34)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="283" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">输出：<code>"开始测试SR协议，请不要中断进程"</code></div></foreignObject></g><g data-depth="2" data-path="1.2.6" transform="translate(372, -68)" class="markmap-node"><line x1="-1" x2="299" y1="22" y2="22" stroke="rgb(127, 127, 127)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="281" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">设置<code>recvSize</code>、<code>waitCount</code>和<code>stage</code>为0</div></foreignObject></g><g data-depth="2" data-path="1.2.5" transform="translate(372, -95)" class="markmap-node"><line x1="-1" x2="105" y1="22" y2="22" stroke="rgb(227, 119, 194)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="87" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">清空<code>buffer</code></div></foreignObject></g><g data-depth="2" data-path="1.2.4" transform="translate(372, -122)" class="markmap-node"><line x1="-1" x2="212" y1="22" y2="22" stroke="rgb(140, 86, 75)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="194" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">输出：<code>"可用序列号为 1~%d"</code></div></foreignObject></g><g data-depth="2" data-path="1.2.3" transform="translate(372, -149)" class="markmap-node"><line x1="-1" x2="211" y1="22" y2="22" stroke="rgb(148, 103, 189)" stroke-width="1.5"></line><foreignObject class="markmap-foreign" x="8" y="0" width="193" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">输出：<code>"发送窗口大小为 %d"</code></div></foreignObject></g><g data-depth="1" data-path="1.10" transform="translate(212, 45)" class="markmap-node"><line x1="-1" x2="268" y1="22" y2="22" stroke="rgb(255, 127, 14)" stroke-width="2"></line><circle stroke-width="1.5" cx="266" cy="22" r="6" stroke="rgb(255, 127, 14)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="250" height="22" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">2. <strong>主循环</strong> （当<code>runFlag</code>为<code>true</code>时）</div></foreignObject></g><g data-depth="1" data-path="1.2" transform="translate(212, -67)" class="markmap-node"><line x1="-1" x2="82" y1="20" y2="20" stroke="rgb(255, 127, 14)" stroke-width="2"></line><circle stroke-width="1.5" cx="80" cy="20" r="6" stroke="rgb(255, 127, 14)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="64" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">1. <strong>初始化</strong></div></foreignObject></g><g data-depth="0" data-path="1" transform="translate(0,-10)" class="markmap-node"><line x1="-1" x2="134" y1="20" y2="20" stroke="rgb(31, 119, 180)" stroke-width="4"></line><circle stroke-width="1.5" cx="132" cy="20" r="6" stroke="rgb(31, 119, 180)" fill="rgb(255, 255, 255)"></circle><foreignObject class="markmap-foreign" x="8" y="0" width="116" height="20" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">SR协议发送过程</div></foreignObject></g></g></svg>